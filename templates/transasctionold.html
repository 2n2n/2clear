<html>
        
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>2clear</title>
      <!-- Tell the browser to be responsive to screen width -->
      <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
      <link rel="stylesheet" href="/static/bower_components/bootstrap/dist/css/bootstrap.min.css">
      <link rel="stylesheet" href="/static/bower_components/font-awesome/css/font-awesome.min.css">
      <link rel="stylesheet" href="/static/bower_components/Ionicons/css/ionicons.min.css">
      <link rel="stylesheet" href="/static/css/AdminLTE.min.css">
      <link rel="stylesheet" href="/static/css/skins/_all-skins.min.css">
      <link rel="stylesheet" href="/static/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">
      <script type="text/javascript" src="/static/plugins/jQuery/jQuery.min.js"></script>
      <script type="text/javascript" src="/static/addoption.js"></script>
    </head>
    <body class="hold-transition skin-blue sidebar-mini">






    <div class="wrapper">
            
              <header class="main-header">
                <a class="logo">
                  <span class="logo-mini"><b>A</b>LT</span>
                  <span class="logo-lg"><b>2</b>Clear</span>
                </a>
                <nav class="navbar navbar-static-top">
                    <!-- Sidebar toggle button-->
                    <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                      <span class="sr-only">Toggle navigation</span>
                    </a>
                    <!-- Navbar Right Menu -->
                    <div class="navbar-custom-menu">
                      <ul class="nav navbar-nav">
                        <!-- Messages: style can be found in dropdown.less-->
                  
                        <!-- Tasks: style can be found in dropdown.less -->
                        <li class="dropdown tasks-menu">
                          <a href="/logout" class="dropdown-toggle" data-toggle="dropdown">
                            <i class=" fa-sign-out"></i>
                            <span class="label label-danger">Log-out</span>
                          </a>
                          
                        </li>
                      </ul>     
                    </div>
              </nav>
              </header>
              <aside class="main-sidebar">
                <section class="sidebar">
                  <div class="user-panel">
                    <div class="pull-left image">
                      <img src="/static/img/user2-160x160.jpg" class="img-circle" alt="User Image">
                    </div>
                    <div class="pull-left info">
                      <p id="userstatus">User</p>
                      <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
                    </div>
                  </div>
                  <form action="#" method="get" class="sidebar-form">
                    <div class="input-group">
                      <input type="text" name="q" class="form-control" placeholder="Search...">
                      <span class="input-group-btn">
                            <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                            </button>
                          </span>
                    </div>
                  </form>
                </section>
              </aside>
            
              <div class="content-wrapper">
                
                <section class="content">
                    <h1>         Transactions & Orders        <small>2clear</small>       </h1>
                  <div class="row">
                    <div class="col-lg-3 col-xs-6">
                      <div class="small-box bg-aqua">
                        <div class="inner">
                          <h3 id="transactioncount">00</h3>
            
                          <p>Transactions</p>
                        </div>
                        <div class="icon">
                          <i class="ion ion-bag"></i>
                        </div>
                        <a href="/transactions" class="small-box-footer">Go <i class="fa fa-arrow-circle-right"></i></a>
                      </div>
                    </div>
                    <div class="col-lg-3 col-xs-6">
                      <div class="small-box bg-yellow">
                          <div class="inner">
                            <h3 id="userregistration">00</h3>
              
                            <p>Customer Registrations</p>
                          </div>
                          <div class="icon">
                            <i class="ion ion-person-add"></i>
                          </div>
                          <a href="/registrations" class="small-box-footer">Go <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                      </div>
                    <div class="col-lg-3 col-xs-6">
                      <div class="small-box bg-green">
                          <div class="inner">
                            <h3>2<sup style="font-size: 20px">clear</sup></h3>
              
                            <p>Inventory</p>
                          </div>
                          <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                          </div>
                          <a href="/products" class="small-box-footer">Go <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                      </div>
                    <div class="col-lg-3 col-xs-6">
                      <div class="small-box bg-red">
                        <div class="inner">
                          <h3>65</h3>
            
                          <p>Admin Panel</p>
                        </div>
                        <div class="icon">
                          <i class="ion ion-pie-graph"></i>
                        </div>
                        <a href="/admin" class="small-box-footer">Go <i class="fa fa-arrow-circle-right"></i></a>
                      </div>
                    </div>
                  </div>

            <div class="row">
              <section class="col-lg-7 connectedSortable">
                      <div class="nav-tabs-custom">
                          <div class="box box-primary">
                                <div class="box box-primary">
                                        <div class="box-header with-border">
                                            <h3 class="box-title">Order</h3>
                                        </div>
                                          <form role="form" action="/order" method="post">
                                            <div class="box-body">
                                                <div class="form-group">


                                                  
                                                    <label for="user_name">Name:</label>
                                                    <!-- <input list="customers" name= "customers" id="selectcustomer" class="form-control"> -->
                                                    <select id="customers" class="form-control">
                                                        {% for customers in customers %}
                                                          <option value="{{ customers.id }}">{{ customers.name }}</option>
                                                        {% endfor %}
                                                    </select>      
                                                </div>
                                                <div class="form-group">
                                                                      <label for="customeradress">Customer address:</label>
                                                                        <input v-model="message" id="customeraddress" class="form-control" placeholder="ex: san pendro st 123">
                                                </div>
                            
                                                <div class="form-group">
                                                                        <label for="customernumber">Customer number:</label>	
                                                                        <input v-model="message" id="customernumber" class="form-control" placeholder="ex: 09123456789">
                                                </div>
                                                <div class="form-group">
                                                                          <label for="order">Select product:</label>	

                                                                          <!-- <input list="products" name= "products" id="selectproduct" class="form-control">
                                                                          <datalist id="products"> -->
                                                                              <select   id= "selectproduct" class="form-control">
                                                                              {% for products in products %}
                                                                                <option value="{{ products.id }}">{{ products.pname   }}</option>
                                                      
                                                                              {% endfor %}
                                                                              </select>
                                                                            <!-- </datalist>                                                     -->
                                                   </div>
                                                   <div class="form-group">
                                                      <label for="price">Price:</label>	
                                            
                                <input v-model="message" id="price" class="form-control" readonly="true">
                              </div>
                                                  <div class="form-group">
                                                                          <label for="quantity">Quantity:</label>	
                                                                          
                                                    <input v-model="message" id="quantity" class="form-control" placeholder="ex: ##">
                                                  </div>
                                                  <div class="form-group">
                                                      <input id="addOption" type="button" class="btn btn-primary" value="Add to cart" >
                                                   </div>
                                              
                                                   <div class="form-group">
                                                   <select id="dynamic-select" class="form-control">
                                                      
                                                        </select>
                                                        </div>
                                                        </form>
                                           
                                                        <button id="removeOption" class="btn btn-primary">remove item</button>
                                                        <button id="removeAllOptions" class="btn btn-primary">remove all</button>
                                                  </div>
                                                  
                                                <div class="form-group">
                                                    <label for="bill">Bill:</label>	
                                                    <input v-model="message" id="bill" class="form-control" readonly="true">
                                                </div>
                                                <div class="form-group">
                                                      <label for="date">Date:</label>	
                                                    <input v-model="message" id="date" class="form-control">

                                                <div class="box-footer">
                                                  <input id="btnAdd" type="submit" class="btn btn-primary" value="Record New Order">
                                                  </div>
          
                                            </form>
                                    </div>
                                      </div>
              </section>
            </div>

    </body>
    </html>

    <script type="text/javascript">
      $(function(){
        $('#getOption').unbind('click').on('click', function(e){
        e.preventDefault();
    var select = document.getElementById("dynamic-select");
    if(select.options.length > 0) {
        var option = select.options[select.selectedIndex];

        alert("Text: " + option.text + "\nValue: " + option.value);
    } else {
        window.alert("Select box is empty");
    }
})

$('#addOption').unbind('click').on('click', function(e){
        e.preventDefault();
  // var selected = $('#selectproduct').val();
     var selected = $('#selectproduct').find(":selected").val();

    console.log(selected, 'selected');

    var select = document.getElementById("dynamic-select");
    select.options[select.options.length] = new Option(selected, '0', false, false);
})


$('#removeOption').unbind('click').on('click', function(e){
        e.preventDefault();

    var select = document.getElementById("dynamic-select");
    select.options[select.selectedIndex] = null;
})

$('#removeAllOption').unbind('click').on('click', function(e){
        e.preventDefault();
    var select = document.getElementById("dynamic-select");
    select.options.length = 0;

})
})
$(function(){
		$('#customers').on('change', function(){
			var id = $(this).find(":selected").val();
      console.log(id, 'id');
			var jqaxhr = $.ajax({
				method: "GET",
				url: window.location.origin+"/customer/"+id 
			})
			.done( function(data){
        console.log(data);
				$('#customeraddress').val(data.address);
				$('#customernumber').val(data.number);
		
			})
			.fail(function(e){
				alert('error')
			})
			.always(function(){
			})
		});
	}) 
  
  $(function(){
		$('#selectproduct').on('change', function(){
			var id = $(this).find(":selected").val();
      console.log(id, 'id');
			var jqaxhr = $.ajax({
				method: "GET",
				url: window.location.origin+"/price/"+id 
			})
			.done( function(data){
        console.log(data);
				$('#price').val(data.pprice)  ;
		
			})
			.fail(function(e){
				alert('error')
			})
			.always(function(){
			})
		});
	}) 




      </script>